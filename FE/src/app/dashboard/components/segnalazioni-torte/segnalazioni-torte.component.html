<main class="w-5/6 flex flex-row justify-around mx-auto gap-8 my-2">
    <!-- SEGNALAZIONI TOTALI -->
    <div class="w-1/3 h-full rounded-md p-8 bg-blue-400">
        <h1 class="m-4 text-white">Segnalazioni Totali - Severità</h1>

        <div class="my-4 flex flex-row justify-around items-center gap-1 mx-auto">
            <input type="date" #valoreDataGt value="{{ startDate | date: 'yyyy-MM-dd'}}"
                (change)="loadSegnalazioniPieTotali(valoreDataGt.value, valoreDataLt.value)"
                class="text-slate-700 font-semibold py-2 px-2 rounded w-1/2 cursor-pointer">
            <input type="date" #valoreDataLt value="{{ endDate | date: 'yyyy-MM-dd'}}"
                (change)="loadSegnalazioniPieTotali(valoreDataGt.value, valoreDataLt.value)"
                class="text-slate-700 font-semibold py-2 px-2 rounded w-1/2 cursor-pointer">
        </div>

        <canvas baseChart class="chart" [data]="datiGraficoTotali" [type]="pieChartType"
            [options]="opzioniGraficoTotali" [plugins]="pieChartPlugins">
        </canvas>

        <div class="mt-1 text-white">
            <h2>LEGENDA</h2>
            <ul class="flex flex-col">
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-pink-500 text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Rosso</h5>
                    </div>
                    <div>{{severitaTotaleRosso}}</div>
                </li>
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-yellow-500 text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Giallo</h5>
                    </div>
                    <div>{{severitaTotaleGiallo}}</div>
                </li>
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-green-500 text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Verde</h5>
                    </div>
                    <div>{{severitaTotaleVerde}}</div>
                </li>
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-white text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Bianco</h5>
                    </div>
                    <div>{{severitaTotaleBianco}}</div>
                </li>
            </ul>
        </div>
    </div>

    <!-- SEGNALAZIONI CHIUSE -->
    <div class="w-1/3 h-full rounded-md p-8 bg-blue-400">
        <h1 class="m-4 text-white">Segnalazioni Chiuse - Severità</h1>

        <div class="my-4 flex flex-row justify-around items-center gap-1 mx-auto">
            <input type="date" #valoreDataGtC value="{{ startDate | date: 'yyyy-MM-dd'}}"
                (change)="loadSegnalazioniPieChiuse(valoreDataGtC.value, valoreDataLtC.value)"
                class="text-slate-700 font-semibold py-2 px-2 rounded w-1/2 cursor-pointer">
            <input type="date" #valoreDataLtC value="{{ endDate | date: 'yyyy-MM-dd'}}"
                (change)="loadSegnalazioniPieChiuse(valoreDataGtC.value, valoreDataLtC.value)"
                class="text-slate-700 font-semibold py-2 px-2 rounded w-1/2 cursor-pointer">
        </div>

        <canvas baseChart class="chart" [data]="datiGraficoChiuse" [type]="pieChartType"
            [options]="opzioniGraficoChiuse" [plugins]="pieChartPlugins">
        </canvas>

        <div class="mt-1 text-white">
            <h2>LEGENDA</h2>
            <ul class="flex flex-col">
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-pink-500 text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Rosso</h5>
                    </div>
                    <div>{{severitaTotaleRosso}}</div>
                </li>
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-yellow-500 text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Giallo</h5>
                    </div>
                    <div>{{severitaTotaleGiallo}}</div>
                </li>
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-green-500 text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Verde</h5>
                    </div>
                    <div>{{severitaTotaleVerde}}</div>
                </li>
                <li class="flex flex-row justify-between items-center">
                    <div class="flex flex-row justify-start items-center gap-1">
                        <h5 class="text-white text-2xl pb-1">&#9679;</h5>
                        <h5>Severità Bianco</h5>
                    </div>
                    <div>{{severitaTotaleBianco}}</div>
                </li>
            </ul>
        </div>
    </div>

    <!-- ULTIME SEGNALAZIONI -->
    <div class="w-1/3 h-full rounded-md p-8 bg-blue-400">
        <div class="bg-slate-600 rounded-md p-2 mb-20">
            <h1 class=" text-white">Segnalazioni</h1>
            <h2 class=" text-white">Pervenute il: {{lastSegnalazioniTime | date: 'dd/MM/YY'}}</h2>
        </div>

        <h3 class="mb-2">TIPOLOGIA</h3>

        <ul *ngIf="lastSegnalazioni.length !== 0">
            <li *ngFor="let getico of lastSegnalazioni"
                class="py-1 my-2 text-white border-t-[1px] border-slate-100 first-letter:uppercase">
                {{getico}}
            </li>
        </ul>
        <div *ngIf="lastSegnalazioni.length === 0">
            <h4 class="py-1 my-2 text-white border-t-[1px] border-slate-100 first-letter:uppercase">Nessun
                dato in questa
                data</h4>
        </div>
    </div>
</main>